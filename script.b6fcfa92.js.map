{"version":3,"sources":["js/script.js"],"names":["get","obj","path","defValue","split","reduce","acc","part","pipe","fns","x","y","f","id","filterOwner","array","filter","item","ownerId","deriveSrc","map","node","url","shortcode","src","Boolean","sortByDate","sort","a","b","size","slice","render","items","parent","ul","document","createElement","forEach","i","li","className","innerHTML","appendChild","first","feed","getElementById","fetch","then","res","status","json","data","images","list","getList","length","catch","console","error"],"mappings":";AAAA,SAASA,EAAIC,EAAKC,GAAMC,IAAAA,EAAW,UAAA,OAAA,QAAA,IAAA,UAAA,IAAA,UAAA,GAE/BD,OAAAA,EAAKE,MAAM,KAAKC,OAAO,SAACC,EAAKC,GAASD,OAAAA,GAAOA,EAAIC,IAAON,IAAQE,EAIpE,IAAMK,EAAO,WAAIC,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAJ,IAAA,MAAA,GAAA,EAAA,EAAA,EAAA,EAAA,IAAIA,EAAJ,GAAA,UAAA,GAAY,OAAA,SAAAC,GAAKD,OAAAA,EAAIJ,OAAO,SAACM,EAAGC,GAAMA,OAAAA,EAAED,IAAID,KAEnDG,EAAK,YAEX,SAASC,EAAYC,GACZA,OAAAA,EAAMC,OAAO,SAAAC,GAEXC,OADSlB,EAAIiB,EAAM,gBAAiB,MACxBJ,IAIvB,SAASM,EAAUJ,GACVA,OAAAA,EACJK,IAAI,SAAA,GAAGC,IAAAA,EAAAA,EAAAA,KAAY,MAAA,CAClBC,IAAKD,EAAKE,UACVC,IAAKxB,EAAIqB,EAAM,gCAEhBL,OAAOS,SAGZ,SAASC,EAAWX,GACXA,OAAAA,EAAMY,KACX,SAACC,EAAGC,GACF7B,OAAAA,EAAI6B,EAAG,2BAA6B7B,EAAI4B,EAAG,6BAIjD,SAASE,EAAKf,GACLA,OAAAA,EAAMgB,MAAM,EAAG,IAGxB,SAASC,EAAOC,EAAOC,GACfC,IAAAA,EAAKC,SAASC,cAAc,MAClCJ,EAAMK,QAAQ,SAAeC,EAAAA,GAAZf,IAAAA,EAAAA,EAAAA,IAAKF,EAAAA,EAAAA,IACdkB,EAAKJ,SAASC,cAAc,MAClCG,EAAGC,UAAY,YACfD,EAAGE,UAAoDpB,wCAAAA,OAAAA,EAAoCE,kCAAAA,OAAAA,EAAae,WAAAA,OAAAA,EAAxG,WACAJ,EAAGQ,YAAYH,KAEjBN,EAAOS,YAAYR,GAGrB,IAAMS,EAAQ,GAERC,EAAOT,SAASU,eAAe,QAE/BtB,EAAN,oTAEAuB,MAAMvB,GACHwB,KAAK,SAAAC,GACe,MAAfA,EAAIC,OAIRD,EACGE,OACAH,KAAK,SAAc,GAAXI,IACDC,EAASrD,EADRoD,EAAAA,KACkB,sCAAuC,IAQ1DE,EAPU9C,EACdM,EACAY,EACAP,EACAW,EAGWyB,CAAQF,GACjBC,EAAKE,QACPxB,EAAOsB,EAAMT,KAGhBY,MAAMC,QAAQC,OAnBfD,QAAQC,MAAMV,KAqBjBQ,MAAMC,QAAQC","file":"script.b6fcfa92.js","sourceRoot":"src","sourcesContent":["function get(obj, path, defValue = false) {\n  return (\n    path.split(\".\").reduce((acc, part) => acc && acc[part], obj) || defValue\n  );\n}\n\nconst pipe = (...fns) => x => fns.reduce((y, f) => f(y), x);\n\nconst id = \"269650371\";\n\nfunction filterOwner(array) {\n  return array.filter(item => {\n    const ownerId = get(item, \"node.owner.id\", \"\");\n    return ownerId === id;\n  });\n}\n\nfunction deriveSrc(array) {\n  return array\n    .map(({ node }) => ({\n      url: node.shortcode,\n      src: get(node, \"thumbnail_resources.0.src\")\n    }))\n    .filter(Boolean);\n}\n\nfunction sortByDate(array) {\n  return array.sort(\n    (a, b) =>\n      get(b, \"node.taken_at_timestamp\") - get(a, \"node.taken_at_timestamp\")\n  );\n}\n\nfunction size(array) {\n  return array.slice(0, 12);\n}\n\nfunction render(items, parent) {\n  const ul = document.createElement(\"ul\");\n  items.forEach(({ src, url }, i) => {\n    const li = document.createElement(\"li\");\n    li.className = \"feed_item\";\n    li.innerHTML = `<a href=\"https://www.instagram.com/p/${url}/\"><img class=\"feed_img\" src=\"${src}\" alt=\"${i}\"/></a>`;\n    ul.appendChild(li);\n  });\n  parent.appendChild(ul);\n}\n\nconst first = 20;\n\nconst feed = document.getElementById(\"feed\");\n\nconst src = `https://www.instagram.com/graphql/query/?query_hash=f92f56d47dc7a55b606908374b43a314&variables=%7B%22tag_name%22%3A%22subbotinatattoo%22%2C%22first%22%3A12%2C%22after%22%3A%22QVFCSXpvSFhSNnJQeHJ6WHRyOXpIUVZOdDljdUE0U1V0cloybFR4bnozR29zakZnTlh5R2xhM0dzaEVOUmVYekVCSXRHSlBMY2dha1Fwbl9RR3d5WkFXNQ%3D%3D%22%7D`;\n\nfetch(src)\n  .then(res => {\n    if (res.status !== 200) {\n      console.error(res);\n      return;\n    }\n    res\n      .json()\n      .then(({ data }) => {\n        const images = get(data, \"hashtag.edge_hashtag_to_media.edges\", []);\n        const getList = pipe(\n          filterOwner,\n          sortByDate,\n          deriveSrc,\n          size\n        );\n\n        const list = getList(images);\n        if (list.length) {\n          render(list, feed);\n        }\n      })\n      .catch(console.error);\n  })\n  .catch(console.error);\n"]}